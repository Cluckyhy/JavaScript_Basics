## 什么是协商缓存(对比缓存)

  协商缓存其实是一种服务端缓存策略，举个例子：
  
  比如说当我们从浏览器向服务器发送请求去请求资源的时候，如果说我们服务器使用了这种协商缓存的策略的话，

  那么服务器就会给我返回资源和资源的标识，并且呢我们可以在浏览器里面把返回的资源呢，存入到本地缓存里面去

  后续发送请求，

  我们不仅仅会向服务器发送请求本身，同时呢，还会把刚才资源标识也一同发给服务器

  那这个时候呢，服务器就可以判断我们当前请求的这个资源，这个资源的浏览器本地缓存的版本个跟我们

  服务器里面的这个资源最新的版本是否一致，如果说两者一致的话呢，我们服务器就会给我们返回304状态码

  然后我们浏览器就可以直接从缓存里面拿我们资源文件了，这样一来，我们服务器就只给我们返回304状态码，不需要返回资源文件

  这样一来，这次请求就是很小的，那如果说我们服务器一检查发现我们浏览器本地缓存里面资源的版本跟我们服务器资源的最新版本

  是不相匹配的话呢，那么我们服务器就会给我们浏览器返回200的状态码，同时还会把最新的资源和新的资源标识一起返回给浏览器

  那这样一来呢，这次请求除了返回状态码之外，还返回了资源文件，和最新的资源标识

  那这就相当于我们发了一次完整的请求，那么请求体积就相对来讲会比较大一点，就不像我们直接从缓存里面能够读取的那么快了

  所以这个就是我们的协商缓存，也就是说我们的服务器会检查我们浏览器发送过来的这次请求，它所请求的资源文件

  是否它本地缓存的版本跟服务器里面这个资源的最新版本是否是一致的，如果是一致的，
  
  浏览器就可以直接读取本地缓存里面的资源文件内容，那么我们的网页加载速度也会加快，那如果是不一致的话，

  那么我们服务器呢，就要把完整的文件(包括新的资源标识)再次返回给浏览器，这就是我们的协商缓存