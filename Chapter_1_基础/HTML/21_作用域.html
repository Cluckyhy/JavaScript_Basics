<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>作用域</title>
</head>

<body>
  <script>
    // var a;
    /*
      作用域：
        作用域指一个变量的作用范围
        在JS中一共有两种作用域：
          1、全局作用域
            直接编写在Script标签中的JS代码，都在全局作用域
            全局作用域在页面打开时创建，在页面关闭时销毁
            在全局作用域中有一个全局对象window
              它代表的是一个浏览器的窗口，它由浏览器创建，我们可以直接使用
            在全局作用域中：
              创建的变量都会作为window对象的属性保存
              创建的函数都会作为window对象的方法保存
            全局作用域中的变量都是全局变量


          2、函数作用域
            调用函数时创建函数作用域，函数执行完毕以后，函数作用域销毁
            每调用一次函数就会创建一个新的函数作用域，他们之间是相互独立的
            在函数作用域中可以访问到全局作用域中的变量，
              在全局作用域中无法访问到函数作用域中的变量
            当在函数作用域中操作一个变量时，它会先在自身作用域中寻找，如果有就直接使用
              如果没有则向上一级作用域中寻找，直到找到全局作用域
              如果全局作用域中依然找不到，则会报错
            在函数中要访问全局变量可以使用window对象
    
    
    */

    /*
      变量的声明提前
        使用var关键字声明的变量，会在所有的代码执行之前被声明(但是不会赋值)
          但是如果声明变量时不使用var关键字，则变量不会被声明提前
    */
    // console.log("a = " + a); //返回undefined
    // // var a = 123;
    // // a = 23   //如果不使用var 则会报错

    /*
      函数的声明提前
        使用函数声明形式创建的函数function函数()
          它会在所有代码执行之前就被创建，所以我们可以在函数声明前来调用函数
        使用函数表达式创建的函数，不会被声明提前，所以不能在声明前调用
    
    */

    // fun1();
    // // fun2(); //报错


    // //函数声明，会被提前创建
    // function fun1() {
    //   console.log("我是函数1");
    // }

    // //函数表达式，不会被提前创建
    // var fun2 = function () {
    //   console.log("我是函数2");
    // }

    // fun1();
    // // fun2();



    /*在函数作用域中也有变量提前的特性
      使用var关键字声明的变量，会在函数中所有的代码执行之前被声明
      函数声明也会在函数中所有的代码执行之前执行
    */
    function fun3() {
      var a;

      console.log(a);

      var a = 19;
    }
    fun3(); //返回undefined

    var c = 33;

    //在函数中，不使用var关键字声明的变量都会成为全局变量
    function fun5() {
      console.log("c = " + c);
      // var c = 2;
      c = 22;

      //d没有使用var关键字，则会设置为全局变量
      d = 100;
    }
    fun5(); //返回33
    console.log("c = " + c); //返回22
    //不要以为，这里访问不到函数fun5中的d，因为fun5中的d变量没有使用var所以会被设置成全局变量
    console.log("d = " + d); //返回100


    var e = 100;

    //定义形参就相当于在函数作用域中声明了变量
    function fun6(e) {
      // var e;//相当于
      console.log(e);
    }
    fun6(); //返回undefined
  </script>
</body>

</html>